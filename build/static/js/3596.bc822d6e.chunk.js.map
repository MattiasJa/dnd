{"version":3,"file":"static/js/3596.bc822d6e.chunk.js","mappings":"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","sources":["../node_modules/@umetrics/sartorius-ui-context-menu/src/contextMenuPlacement.ts","../node_modules/@umetrics/sartorius-ui-context-menu/src/metadata.ts","../node_modules/@umetrics/sartorius-ui-context-menu/src/contextMenuItem.ts","../node_modules/@umetrics/sartorius-ui-context-menu/src/contextMenuItemStyle.ts","../node_modules/@umetrics/sartorius-ui-context-menu/src/contextMenu.ts","../node_modules/@umetrics/sartorius-ui-context-menu/src/contextMenuItemProperties.ts","../node_modules/@umetrics/sartorius-ui-context-menu/src/contextMenuStyle.ts"],"sourcesContent":["export enum ContextMenuPlacement {\n    BelowLeftAligned = 'below-left',\n    BelowRightAligned = 'below-right',\n    RightSideTopAligned = 'right-top',\n    RightSideBottomAligned = 'right-bottom',\n    LeftSideTopAligned = 'left-top',\n    LeftSideBottomAligned = 'left-bottom',\n    AboveLeftAligned = 'above-left',\n    AboveRightAligned = 'above-right',\n}\n","/*\n * Metadata build info for package. Managed at build time by task tools/metadata.ts\n */\nexport const version = '0.0.0';\nexport const buildDate = '2021-02-02- 02:02:02.000';\n","import {\n    BaseElement,\n    booleanConverter,\n    createClassName,\n    defineElement,\n    html,\n    property,\n    query,\n    state,\n} from '@umetrics/sartorius-ui-base';\nimport { contextMenuItemStyles } from './contextMenuItemStyle';\nimport { CallbackFunc, ContextMenuItemProperties } from './contextMenuItemProperties';\nimport { version } from './metadata';\nimport { ContextMenuItemsItem } from './contextMenuProperties';\nimport next from '@umetrics/sartorius-ui-icon/dist/icons/next';\n\n@defineElement({\n    tagName: 'context-menu-item',\n    styles: contextMenuItemStyles,\n    version,\n})\nexport class ContextMenuItem extends BaseElement implements ContextMenuItemProperties {\n    // Static members\n    private static Icon;\n    private static Dropdown;\n\n    // Private members\n\n    // Protected members\n\n    // Public members\n    @property({ type: String })\n    icon = '';\n    @property({ type: String })\n    label = '';\n\n    @property({ type: Boolean, converter: booleanConverter })\n    disabled = false;\n    @property({ type: Boolean, converter: booleanConverter })\n    nested = false;\n    @property({ type: String, attribute: 'nested-placement' })\n    nestedPlacement = 'right-top';\n\n    @property({ type: Object, attribute: false })\n    callback: CallbackFunc | null = null;\n    @property({ type: Object, attribute: false })\n    item?: ContextMenuItemsItem[];\n\n    @property({ type: Boolean, converter: booleanConverter })\n    open = false;\n    @property({ type: Boolean, converter: booleanConverter, attribute: 'selectable' })\n    selectable = false;\n\n    @property({ type: Boolean, attribute: 'click-item-close', converter: booleanConverter })\n    public clickItemClose = false;\n\n    @property({ type: Boolean, converter: booleanConverter })\n    public get selected() {\n        return this._selected;\n    }\n\n    public set selected(val) {\n        if (val === this._selected) return;\n        if (!val) this.removeAttribute('selected');\n        else {\n            this.setAttribute('selected', 'true');\n        }\n        this._selected = val;\n        this.requestUpdate();\n    }\n\n    @query('[class*=\"-dropdown\"]')\n    private _dropdown;\n    @query('li')\n    private _li;\n    @state()\n    private _selected = false;\n\n    constructor() {\n        super();\n        this.addEventListener('click', this._handleClick);\n    }\n\n    connectedCallback() {\n        this.style.setProperty('display', 'none');\n        const imports: any[] = [];\n\n        ContextMenuItem.subRegister(ContextMenuItem);\n        imports.push({ module: () => import('@umetrics/sartorius-ui-icon'), elem: ['Icon'] });\n        imports.push({ module: () => import('@umetrics/sartorius-ui-dropdown'), elem: ['Dropdown'] });\n\n        ContextMenuItem.dynSubRegister(imports, () => {\n            super.connectedCallback();\n            this.style.removeProperty('display');\n        });\n    }\n\n    resetOpenState() {\n        if (this.open) {\n            this.open = false;\n            let childs;\n            if (this.item && this.item.length > 0) {\n                childs = Array.from(this.shadowRoot!.querySelectorAll(\"[class*='-li']\"));\n            } else if (this.nested) {\n                childs = (\n                    this.shadowRoot!.querySelector('slot[name=\"child-slot\"]') as HTMLSlotElement\n                ).assignedElements();\n            }\n            childs.forEach((s) => (s as ContextMenuItem).resetOpenState());\n        }\n    }\n\n    protected updated(_changedProperties) {\n        super.updated(_changedProperties);\n        if (_changedProperties.has('open') && this.open) {\n            if (this._dropdown) {\n                this._dropdown.object = this._li;\n                this._dropdown.open = true;\n            }\n        }\n    }\n\n    protected render() {\n        const [baseClassName, rootClasses] = createClassName(this.tagName.toLowerCase(), {\n            selected: this.selected,\n            open: this.open,\n            disabled: this.disabled,\n        });\n\n        const iconHtml = this.icon\n            ? html`\n                <${ContextMenuItem.Icon.tag} class=\"${baseClassName}-icon\" size=\"large\"\n                                             icon='${this.icon}'></${ContextMenuItem.Icon.tag}>`\n            : '';\n        const labelHtml = this.label ? this.label : html` <slot></slot>`;\n        const isNested = this.nested || (this.item && this.item.length > 0);\n        const nestedHtml = isNested\n            ? html`\n                <${ContextMenuItem.Icon.tag} class=\"${baseClassName}-icon-expand\" size=\"large\"\n                                             icon='${next}'></${ContextMenuItem.Icon.tag}>`\n            : null;\n        const dropdownHtml = isNested ? this._nested(baseClassName) : null;\n        return html`\n            <li class=\"${rootClasses}\">\n                <button class=\"${baseClassName}-button\" ?disabled=${this.disabled}>\n                    ${iconHtml}\n                    <label class=\"${baseClassName}-label\"> ${labelHtml} </label>\n                    ${nestedHtml}\n                </button>\n            </li>\n            ${dropdownHtml}\n        `;\n    }\n\n    private _nested(baseClassName) {\n        const childsHtml =\n            this.item && this.item.length > 0\n                ? this.item.map(\n                      (i) => html`\n                        <${ContextMenuItem.tag} class=\"${baseClassName}-li\" selected='${false}' @mousedown=${\n                            i.clickCallback\n                        } label='${i.label}' icon='${i.icon}' .item='${i.item}'>\n                        </${ContextMenuItem.tag}>`\n                  )\n                : html` <slot name=\"child-slot\"></slot>`;\n\n        /* Note : Default animation-variant will fail show nested items on the mac. */\n        return html`\n            <${ContextMenuItem.Dropdown.tag}\n                class='${baseClassName}-dropdown'\n                open=\"${this.open}\"\n                disabled=\"${this.disabled}\"\n                click-outside-close=\"${false}\"\n                controlled=\"false\"\n                animation-variant='none'\n                force-placement=\"${this.nestedPlacement}\"\n                fixed-width=\"false\">\n                <ul class=\"${baseClassName}-items\">\n                    ${childsHtml}\n                </ul>\n            </${ContextMenuItem.Dropdown.tag}>\n        `;\n    }\n\n    private _handleClick(e) {\n        const li = e.composedPath().find((s) => s.tagName === 'LI');\n        const target = li ? li.getRootNode().host : e.target;\n\n        if (target !== this) {\n            this._closeOthers(target);\n            if (target.selectable) {\n                target.selected = true;\n            }\n            return;\n        } else {\n            if (this.selectable) this.selected = true;\n        }\n        if (target === this) {\n            this._handleNestedClick(e);\n        }\n    }\n\n    private _handleNestedClick(e) {\n        if (this.nested || (this.item && this.item.length > 0)) {\n            this.open = !this.open;\n        }\n\n        if (this.clickItemClose) {\n            this.dispatchEvent(new CustomEvent('close-item', { bubbles: true, composed: true }));\n        }\n        if (this.disabled) {\n            e.stopImmediatePropagation();\n        }\n        if (this.callback !== null) {\n            if ((this.callback as unknown as CallbackFunc)(e)) {\n                (this.parentElement as HTMLElement)['open'] = false; // Not very nice...\n                e.stopImmediatePropagation();\n            }\n        }\n    }\n\n    private _closeOthers(target) {\n        if (target.open) {\n            if (this.item && this.item.length > 0) {\n                const childs = Array.from(this.shadowRoot!.querySelectorAll(\"[class*='-li']\"));\n                if (childs.includes(target)) {\n                    childs.filter((s) => s !== target).forEach((s) => ((s as ContextMenuItem).open = false));\n                }\n            } else if (this.nested) {\n                const childs = (\n                    this.shadowRoot!.querySelector('slot[name=\"child-slot\"]') as HTMLSlotElement\n                ).assignedElements();\n                if (childs.includes(target)) {\n                    childs.filter((s) => s !== target).forEach((s) => ((s as ContextMenuItem).open = false));\n                }\n            }\n        }\n    }\n}\n","import { css, cssSelector, cssVariableAsVar, GenerateStyles, style } from '@umetrics/sartorius-ui-base';\n\n// see https://www.sartorius.com/brand-platform/applications/digital\n\nexport const contextMenuItemStyles: GenerateStyles = (tagName) => {\n    const { root, child, is } = cssSelector(tagName);\n\n    const darkGray = cssVariableAsVar('color_secondary_4');\n\n    return [\n        style,\n        css`\n            :host,\n            :host::before,\n            :host::after,\n            :host *,\n            :host *::before,\n            :host *::after {\n                box-sizing: border-box;\n            }\n\n            ${root} {\n                list-style-type: none;\n            }\n\n            ${child('label')} {\n                font-size: 14px;\n            }\n            ${is('!disabled')} ${child('label')} {\n                cursor: pointer;\n            }\n\n            @media (hover: hover) {\n                ${is('!selected')} ${child('button')}:not([disabled]):hover {\n                    background: #0000001a;\n                    cursor: pointer;\n                    color: ${cssVariableAsVar('color_primary_3')};\n                }\n            }\n\n            ${is('!selected', 'open')} ${child('button')}:not([disabled]) {\n                background: #0000001a;\n            }\n\n            ${is('!selected')} ${child('button')}:not([disabled]):active {\n                background: ${darkGray};\n            }\n\n            ${child('button')} {\n                display: flex;\n                flex-direction: row;\n                align-items: center;\n                white-space: nowrap;\n                gap: 12px;\n                width: 100%;\n                border: none;\n                background: none;\n                height: 36px;\n                padding: 0 24px;\n                font-size: 20px;\n            }\n\n            ${is('selected')} ${child('button')} {\n                background-color: ${cssVariableAsVar('color_primary_3')};\n                color: ${cssVariableAsVar('color_primary_2')};\n            }\n\n            ${child('items')} {\n                position: relative;\n                padding: 0;\n                margin: 0;\n                z-index: 2;\n            }\n\n            ${child('icon-expand')} {\n                margin-left: auto;\n            }\n\n            /* Code working only for Safari */\n            @media not all and (min-resolution: 0.001dpcm) {\n                @supports (-webkit-appearance: none) {\n                    ${root} button:focus {\n                        outline: none;\n                        border: 2px solid ${cssVariableAsVar('color_primary_3')};\n                        margin-left: -2px;\n                    }\n                }\n            }\n        `,\n    ];\n};\n","import {\n    BaseElement,\n    booleanConverter,\n    createClassName,\n    defineElement,\n    html,\n    property,\n    query,\n} from '@umetrics/sartorius-ui-base';\nimport { contextMenuStyles } from './contextMenuStyle';\nimport { ContextMenuItems, ContextMenuProperties } from './contextMenuProperties';\nimport { ContextMenuPlacement } from './contextMenuPlacement';\nimport { version } from './metadata';\nimport { preventResizeObserverError } from '@umetrics/sartorius-ui-utils';\nimport { ContextMenuItem } from './contextMenuItem';\nimport '@lit-labs/virtualizer'; // <lit-virtualizer> is a side effect of this import\n\n@defineElement({\n    tagName: 'context-menu',\n    styles: contextMenuStyles,\n    version,\n})\nexport class ContextMenu extends BaseElement implements ContextMenuProperties {\n    // Static members\n    private static Dropdown;\n\n    // Private members\n\n    // Protected members\n\n    // Public members\n    @property({ type: Boolean, reflect: true, converter: booleanConverter })\n    open = false;\n    @property({ type: Boolean, converter: booleanConverter })\n    disabled = false;\n    @property({ type: Boolean, attribute: 'click-outside-close', converter: booleanConverter })\n    clickOutsideClose = true;\n    @property({ type: ContextMenuPlacement, attribute: 'force-placement' }) forcePlacement?: ContextMenuPlacement;\n\n    @property({ type: Boolean, converter: booleanConverter })\n    controlled = false;\n\n    @property({ type: Boolean, reflect: true, converter: booleanConverter, attribute: 'fixed-width' })\n    fixedWidth = false;\n\n    @property({ type: Object })\n    public object: HTMLElement | null = null;\n    @property({ type: String, reflect: true, attribute: 'object-id' })\n    public objectId: string | null = null;\n\n    @property({ type: Object, attribute: false })\n    public items?: ContextMenuItems;\n\n    @query('[class$=\"-dropdown\"]')\n    private _dropdown;\n\n    constructor() {\n        super();\n        this.addEventListener('click', this._handleClick);\n        preventResizeObserverError();\n    }\n\n    connectedCallback() {\n        this.style.setProperty('display', 'none');\n        ContextMenu.subRegister(ContextMenuItem);\n        const imports: any[] = [];\n\n        imports.push({ module: () => import('@umetrics/sartorius-ui-dropdown'), elem: ['Dropdown'] });\n\n        ContextMenu.dynSubRegister(imports, () => {\n            super.connectedCallback();\n            this.addEventListener('close-item', this._close);\n            this.style.removeProperty('display');\n        });\n    }\n\n    disconnectedCallback() {\n        if (this.object && this.object?.['active']) {\n            this.object['active'] = false;\n        }\n        this.removeEventListener('close-item', this._close);\n        super.disconnectedCallback();\n    }\n\n    protected updated(changedProperties) {\n        if (changedProperties.has('open')) {\n            if (this.open && this.items && this.items.virtualize) {\n                // Query lit-virtualizer and do scrollIntoView,like : virtualizer.element(index).scrollIntoView({ block: 'nearest', behavior: 'auto' }) does not work.\n                // Issues :\n                // https://github.com/lit/lit/issues/3963\n                // https://github.com/lit/lit/issues/4767\n                // Below is a workaround to at least find a decent position\n                setTimeout(() => {\n                    const container = this._dropdown.shadowRoot!.querySelector('[class*=\"container\"]');\n                    container.scrollTop = 36 * Math.max(1, this.items!.scrolledItem ?? this.items!.selectedItem ?? 1);\n                }, 100);\n            }\n            this._toggleParentButton();\n        }\n        super.updated(changedProperties);\n    }\n\n    protected render() {\n        const [baseClassName] = createClassName(this.tagName.toLowerCase(), {});\n\n        let listElements;\n        let ulStyle = '';\n        if (this.items) {\n            const renderItem = (s, index) => html`\n                <${ContextMenuItem.tag} class=\"${baseClassName}-li\" selected='${\n                    index === this.items?.selectedItem\n                }' @mousedown=${s.clickCallback} label='${s.label}' icon='${s.icon}' .item='${s.item}'>\n                </${ContextMenuItem.tag}>`;\n\n            if (this.items.virtualize) {\n                // Could catch @rangeChanged and dispatch event with info about current range, e.first -> e.last, for endless scroll functionality...\n                listElements = html`\n                    <lit-virtualizer\n                        .items=${this.items.item}\n                        .renderItem=${renderItem}\n                        .scroller=${false}\n                    ></lit-virtualizer>\n                `;\n                ulStyle = `width:${this.items.width ? this.items.width : '50px'}`;\n            } else {\n                listElements = this.items.item.map(renderItem);\n            }\n        } else {\n            listElements = html` <slot></slot>`;\n        }\n        /* Note : Default animation-variant will fail show nested items on the mac. */\n        return html`\n            <${ContextMenu.Dropdown.tag}\n                class='${baseClassName}-dropdown'\n                open=\"${this.open}\"\n                .parentObject=\"${this.parentElement}\"\n                .object=\"${this.object}\"\n                disabled=\"${this.disabled}\"\n                force-placement=\"${this.forcePlacement}\"\n                click-outside-close=\"${this.clickOutsideClose}\"\n                object-id=\"${this.objectId}\"\n                controlled=\"${this.controlled}\"\n                fixed-width=\"${this.fixedWidth}\"\n                animation-variant='none'\n                @toggle=${this._toggle}\n                @close=${this._toggle}>\n                <ul class=\"${baseClassName}-items\" style='${ulStyle}'>\n                    ${listElements}\n                </ul>\n            </${ContextMenu.Dropdown.tag}>\n        `;\n    }\n\n    private _toggle() {\n        this.open = this._dropdown.open;\n\n        if (!this.open) {\n            const menuItemChildren = this._getMenuItemChildren();\n            menuItemChildren.forEach((s) => (s as ContextMenuItem).resetOpenState());\n        }\n    }\n\n    private _toggleParentButton() {\n        if (this.object?.['active'] !== undefined) {\n            this.object['active'] = this.open;\n        }\n    }\n\n    private _close = async () => {\n        if (this.open) {\n            if (!this.controlled) {\n                this.open = false;\n            }\n\n            await this.updateComplete;\n            this.dispatchEvent(\n                new CustomEvent('close', {\n                    detail: { newState: false, prevState: this.open },\n                    bubbles: true,\n                    composed: true,\n                })\n            );\n        }\n    };\n\n    private _handleClick(e) {\n        const li = e.composedPath().find((s) => s.tagName === 'LI');\n        const target = li ? li.getRootNode().host : e.target;\n\n        const menuItemChildren = this._getMenuItemChildren();\n        if (menuItemChildren.includes(target)) {\n            menuItemChildren.filter((s) => s !== target).forEach((s) => ((s as ContextMenuItem).open = false));\n        }\n    }\n\n    private _getMenuItemChildren() {\n        if (this.items) {\n            return Array.from(this.shadowRoot!.querySelectorAll(\"[class*='-li']\"));\n        } else {\n            return (this.shadowRoot!.querySelector('slot') as HTMLSlotElement)\n                .assignedElements()\n                .filter((elem) => elem.nodeName.endsWith('CONTEXT-MENU-ITEM'));\n        }\n    }\n}\n","import { ContextMenuItemsItem } from './contextMenuProperties';\n\nexport enum ContextMenuItemSlot {\n    DEFAULT = '',\n    CHILD_SLOT = 'child-slot',\n}\n\nexport type CallbackFunc = (event) => { boolean };\nexport interface ContextMenuItemProperties {\n    icon?: string;\n    label?: string;\n    selected?: boolean;\n    disabled?: boolean;\n    nested?: boolean;\n    selectable?: boolean;\n    nestedPlacement?: string;\n    item?: ContextMenuItemsItem[];\n\n    clickItemClose?: boolean;\n    callback?: null | CallbackFunc;\n}\n","import { css, cssSelector, cssVariableAsVar, GenerateStyles, style } from '@umetrics/sartorius-ui-base';\n\nexport const contextMenuStyles: GenerateStyles = (tagName) => {\n    const { root, child } = cssSelector(tagName);\n\n    const white = cssVariableAsVar('color_primary_2');\n\n    return [\n        style,\n        css`\n            :host,\n            :host::before,\n            :host::after,\n            :host *,\n            :host *::before,\n            :host *::after {\n                box-sizing: border-box;\n            }\n\n            :host {\n                display: block;\n            }\n\n            ${root} {\n                position: relative;\n            }\n\n            ${child('items')} {\n                position: relative;\n                background: ${white};\n                padding: 0;\n                margin: 0;\n                z-index: 2;\n            }\n\n            ${child('li')} {\n                width: 100%;\n                left: 0;\n            }\n        `,\n    ];\n};\n"],"names":["ContextMenuPlacement","version","ContextMenuItem","ContextMenuItem_1","BaseElement","selected","this","_selected","val","setAttribute","removeAttribute","requestUpdate","constructor","super","icon","label","disabled","nested","nestedPlacement","callback","open","selectable","clickItemClose","addEventListener","_handleClick","connectedCallback","style","setProperty","imports","subRegister","push","module","elem","dynSubRegister","removeProperty","resetOpenState","childs","item","length","Array","from","shadowRoot","querySelectorAll","querySelector","assignedElements","forEach","s","updated","_changedProperties","has","_dropdown","object","_li","render","baseClassName","rootClasses","createClassName","tagName","toLowerCase","iconHtml","html","Icon","tag","labelHtml","isNested","nestedHtml","next","dropdownHtml","_nested","childsHtml","map","i","clickCallback","Dropdown","e","li","composedPath","find","target","getRootNode","host","_closeOthers","_handleNestedClick","dispatchEvent","CustomEvent","bubbles","composed","stopImmediatePropagation","parentElement","includes","filter","__decorate","property","type","String","Boolean","converter","booleanConverter","attribute","Object","query","state","defineElement","styles","root","child","is","cssSelector","darkGray","cssVariableAsVar","css","ContextMenu","ContextMenu_1","clickOutsideClose","controlled","fixedWidth","objectId","_close","async","updateComplete","detail","newState","prevState","preventResizeObserverError","disconnectedCallback","_a","removeEventListener","changedProperties","items","virtualize","setTimeout","scrollTop","Math","max","_b","scrolledItem","selectedItem","_toggleParentButton","listElements","ulStyle","renderItem","index","width","forcePlacement","_toggle","_getMenuItemChildren","undefined","menuItemChildren","nodeName","endsWith","ContextMenuItemSlot","reflect","white"],"sourceRoot":""}