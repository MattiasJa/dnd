{"version":3,"file":"static/js/299.39c28f72.chunk.js","mappings":"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","sources":["../node_modules/@umetrics/sartorius-ui-file-selector/src/fileSelectorProperties.ts","../node_modules/@umetrics/sartorius-ui-file-selector/src/fileSelectorEvent.ts","../node_modules/@umetrics/sartorius-ui-file-selector/src/fileSelectorUtils.ts","../node_modules/@umetrics/sartorius-ui-file-selector/src/fileSelector.ts","../node_modules/@umetrics/sartorius-ui-file-selector/src/fileSelectorStyle.ts","../node_modules/@umetrics/sartorius-ui-file-selector/src/metadata.ts"],"sourcesContent":["export enum FileSelectorTextKey {\n    DRAG_DROP_LABEL = 'dragDropLabel',\n    BUTTON_LABEL = 'browseButtonLabel',\n}\n\nexport interface FileSelectorTexts {\n    [FileSelectorTextKey.DRAG_DROP_LABEL]?: string;\n    [FileSelectorTextKey.BUTTON_LABEL]?: string;\n}\n\nexport interface FileSelectorProperties {\n    dragDropLabel: string;\n    browseButtonLabel: string;\n    acceptedFileExtensions?: Array<string>;\n    acceptedMIMETypes?: Array<string>;\n    selectedFiles?: Array<File>;\n    multiple?: boolean;\n    hideBrowseButton?: boolean;\n    hideLabel?: boolean;\n    texts?: FileSelectorTexts;\n\n    onFileSelectionChanged?: any;\n    onFileReject?: any;\n}\n","import { FileSelector } from '.';\n\nexport enum FileSelectorEvent {\n    Change = 'file-selection-changed',\n    Reject = 'file-reject',\n}\n\nexport class FileSelectorChangeEvent extends Event {\n    target!: FileSelector;\n}\n\nexport class FileSelectorRejectEvent extends Event {\n    target!: FileSelector;\n}\n","export const isDescendant = (el, parent) => {\n    if (!el) {\n        return false;\n    }\n\n    if (el === parent) {\n        return true;\n    }\n\n    while (el.parentNode || el.host) {\n        if (el.parentNode) {\n            el = el.parentNode;\n        } else {\n            el = el.host;\n        }\n        if (el === parent) {\n            return true;\n        }\n    }\n\n    return false;\n};\n","import {\n    BaseElement,\n    booleanConverter,\n    createClassName,\n    defineElement,\n    html,\n    property,\n    query,\n} from '@umetrics/sartorius-ui-base';\n\nimport { fileUploaderStyles } from './fileSelectorStyle';\nimport { FileSelectorProperties, FileSelectorTextKey, FileSelectorTexts } from './fileSelectorProperties';\nimport { version } from './metadata';\nimport { FileSelectorEvent } from './fileSelectorEvent';\nimport { isDescendant } from './fileSelectorUtils';\n\n@defineElement({\n    tagName: 'file-selector',\n    styles: fileUploaderStyles,\n    version,\n    //sub: [Button, Placeholder],\n})\nexport class FileSelector extends BaseElement implements FileSelectorProperties {\n    // Static members\n    private static Placeholder;\n    private static Button;\n\n    // Public members\n    @property({ type: String, attribute: 'drag-drop-label' })\n    dragDropLabel;\n    @property({ type: String, attribute: 'browse-button-label' })\n    browseButtonLabel;\n    @property({ type: Array<string>(), attribute: false })\n    acceptedFileExtensions: string[] = [];\n    @property({ type: Array<string>(), attribute: false })\n    acceptedMIMETypes: string[] = [];\n    @property({ type: Boolean, converter: booleanConverter })\n    multiple = true;\n    @property({ type: Boolean, attribute: 'hide-browse-button', converter: booleanConverter })\n    hideBrowseButton = false;\n    @property({ type: Boolean, attribute: 'hide-label', converter: booleanConverter })\n    hideLabel = false;\n\n    @property({ type: Object })\n    get texts() {\n        return this._texts;\n    }\n\n    set texts(value) {\n        const prevValue = this._texts;\n\n        if (typeof value === 'string') {\n            value = JSON.parse(value);\n        }\n        this._texts = value;\n\n        this.requestUpdate('texts', prevValue);\n    }\n\n    @property({ type: Array<File>() })\n    get selectedFiles() {\n        return this._files;\n    }\n\n    set selectedFiles(files) {\n        this._externalChangeOfFiles = true;\n        this._files = [];\n        this._handleFiles(files);\n        this._externalChangeOfFiles = false;\n    }\n\n    // Protected members\n    @query('input')\n    protected inputElement!: HTMLInputElement;\n\n    // Private members\n    private _baseClassName = '';\n    private _files: File[] = [];\n    private _externalChangeOfFiles = false;\n    private _dragInside = false;\n    private _dragInBody = false;\n    private _texts: FileSelectorTexts = {};\n    private _isAccepted = true;\n\n    // Public methods\n    constructor() {\n        super();\n        this._dragenter = this._dragenter.bind(this);\n        this._dragleave = this._dragleave.bind(this);\n        this._dragenterBody = this._dragenterBody.bind(this);\n        this._dragleaveBody = this._dragleaveBody.bind(this);\n        this._drop = this._drop.bind(this);\n        this._dropOutside = this._dropOutside.bind(this);\n    }\n\n    browseFiles(e) {\n        this._selectClick(e);\n    }\n\n    connectedCallback() {\n        this.style.setProperty('display', 'none');\n        const imports: any[] = [];\n        imports.push({ module: () => import('@umetrics/sartorius-ui-button'), elem: ['Button'] });\n        imports.push({ module: () => import('@umetrics/sartorius-ui-placeholder'), elem: ['Placeholder'] });\n\n        FileSelector.dynSubRegister(imports, () => {\n            super.connectedCallback();\n            this.style.removeProperty('display');\n        });\n\n        this.addEventListener('dragenter', this._dragenter, true);\n        this.addEventListener('dragleave', this._dragleave, true);\n        this.addEventListener('dragover', this._dragover, true);\n        this.addEventListener('drop', this._drop, true);\n        document.body.addEventListener('dragenter', this._dragenterBody);\n        document.body.addEventListener('dragleave', this._dragleaveBody);\n        document.body.addEventListener('dragover', this._dragover);\n        document.body.addEventListener('drop', this._dropOutside);\n    }\n\n    disconnectedCallback() {\n        super.disconnectedCallback();\n\n        this.removeEventListener('dragenter', this._dragenter);\n        this.removeEventListener('dragleave', this._dragleave);\n        this.removeEventListener('dragover', this._dragover);\n        this.removeEventListener('drop', this._drop);\n        document.body.removeEventListener('dragenter', this._dragenterBody);\n        document.body.removeEventListener('dragleave', this._dragleaveBody);\n        document.body.removeEventListener('dragover', this._dragover);\n        document.body.removeEventListener('drop', this._dropOutside);\n    }\n\n    //Protected methods\n    protected firstUpdated(): void {\n        this.addEventListener('click', this._onClick);\n    }\n\n    protected render() {\n        const [baseClassName, rootClasses] = createClassName(this.tagName.toLowerCase(), {\n            dragInside: this._dragInside,\n            dragInBody: this._dragInBody,\n            isAccepted: this._isAccepted,\n        });\n\n        this._baseClassName = baseClassName;\n\n        return html`\n            <div class=\"${rootClasses}\">\n                <div class=\"${baseClassName}-select-doc-area\">\n                    <div class=\"${baseClassName + '-input-wrapper'}\">\n                        <slot></slot>\n                        ${this._renderPlaceholder(baseClassName, this._labelDragDrop())} ${this._renderBrowseButton()}\n                        ${this._renderInput()}\n                    </div>\n                </div>\n            </div>\n        `;\n    }\n    private _renderPlaceholder(baseClassName, message) {\n        if (this.hideLabel) {\n            return html``;\n        }\n        return html`\n                    <${FileSelector.Placeholder.tag} class=\"${baseClassName}-placeholder\">\n                        <span>${message}</span>\n                    </${FileSelector.Placeholder.tag}>                    \n                `;\n    }\n\n    private _renderBrowseButton() {\n        if (this.hideBrowseButton) {\n            return html``;\n        }\n        return html`\n        <${FileSelector.Button.tag}\n            class=\"${this._baseClassName}-select-doc-button\"\n            @click=${this._selectClick}\n            button-type=\"secondary\"\n            >${this._labelButton()}\n            </${FileSelector.Button.tag}>\n            `;\n    }\n\n    private _renderInput() {\n        return html`\n            <input\n                class=\"${this._baseClassName + '-input'}\"\n                type=\"file\"\n                @change=${this._inputChange}\n                accept=${this.acceptedFileExtensions.map((a) => a.toLowerCase())}\n                ?multiple=\"${this.multiple}\"\n            />\n        `;\n    }\n\n    private _labelDragDrop() {\n        const val = this.dragDropLabel ? this.dragDropLabel : this._texts[FileSelectorTextKey.DRAG_DROP_LABEL];\n        return val ? val : 'Upload or drag files here';\n    }\n    private _labelButton() {\n        const val = this.browseButtonLabel ? this.browseButtonLabel : this._texts[FileSelectorTextKey.BUTTON_LABEL];\n        return val ? val : 'Default text for browse button label';\n    }\n\n    private _selectClick(e) {\n        if (this.shadowRoot) {\n            const inputElement = this.shadowRoot.querySelector<HTMLInputElement>('.' + this._baseClassName + '-input');\n            if (inputElement) {\n                inputElement.click();\n            }\n        }\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    }\n\n    private _onClick(e: Event) {\n        e.stopImmediatePropagation();\n    }\n\n    private async _handleFiles(selectedFilesFromEvent) {\n        if (this.acceptedFileExtensions?.length > 0) {\n            this._setFiles(this._handleAcceptedFiles(selectedFilesFromEvent));\n        } else this._setFiles(selectedFilesFromEvent);\n\n        // _handleAcceptedFiles above could dispatch reject-event, but below code will run\n        // anyway and then dispatch the change event. Is this intentional? It seems weird!\n        if (!this._externalChangeOfFiles) {\n            this._dispatchChangedEvent();\n        }\n        this.requestUpdate();\n    }\n\n    private _handleAcceptedFiles(selectedFilesFromEvent) {\n        const updatedArray: File[] = [];\n        Array.prototype.forEach.call(selectedFilesFromEvent, (file) => {\n            if (this.acceptedFileExtensions.some((afe) => file.name.toLowerCase().endsWith(afe.toLowerCase()))) {\n                updatedArray.push(file);\n            } else {\n                this._dispatchRejectEvent(file);\n            }\n        });\n        return updatedArray;\n    }\n\n    private _dispatchChangedEvent() {\n        this.dispatchEvent(\n            new CustomEvent(FileSelectorEvent.Change, {\n                bubbles: true,\n                cancelable: true,\n                composed: true,\n            })\n        );\n    }\n\n    private _dispatchRejectEvent(selected) {\n        this.dispatchEvent(\n            new CustomEvent(FileSelectorEvent.Reject, {\n                bubbles: true,\n                composed: true,\n                detail: {\n                    file: selected,\n                    type: selected.type,\n                },\n            })\n        );\n    }\n\n    private _setFiles(files: File[]) {\n        this._files = Array.from(files);\n    }\n\n    private readonly _inputChange = async (e) => {\n        await this._handleFiles.call(this, e.target.files);\n        this._resetInputValue();\n    };\n\n    private _resetInputValue() {\n        this.inputElement.value = '';\n    }\n\n    private async _drop(e) {\n        e.preventDefault();\n        this._setDragInside(false);\n        this._setDragInBody(false);\n        await this._handleFiles.call(this, e.dataTransfer.files);\n    }\n\n    private async _dropOutside() {\n        this._setDragInside(false);\n        this._setDragInBody(false);\n    }\n\n    private _dragover(e: DragEvent) {\n        e.preventDefault(); // needed to allow 'drop' event to trigger\n    }\n\n    private _setDragInside(dragging: boolean) {\n        if (this._dragInside !== dragging) {\n            this._dragInside = dragging;\n            this.requestUpdate();\n        }\n    }\n\n    private _setDragInBody(dragInPage: boolean) {\n        if (this._dragInBody !== dragInPage) {\n            this._dragInBody = dragInPage;\n            this.requestUpdate();\n        }\n    }\n\n    private _dragenter(e: DragEvent) {\n        this._isAccepted = true;\n\n        if (this.acceptedMIMETypes?.length > 0) {\n            if (\n                e.dataTransfer &&\n                e.dataTransfer.items &&\n                e.dataTransfer.items.length > 0 &&\n                e.dataTransfer.items[0].type\n            ) {\n                this._isAccepted = this.acceptedMIMETypes.includes(e.dataTransfer.items[0].type);\n            } else {\n                // MIME types are set in the OS. Can never guarantee that it was set.\n                console.warn(`No MIME type for this dragged object. Cant validate against ${this.acceptedMIMETypes}`);\n            }\n        }\n\n        this._setDragInside(true);\n    }\n\n    private _dragleave(e) {\n        if (isDescendant(e.relatedTarget, this)) {\n            return;\n        }\n        this._setDragInside(false);\n    }\n\n    private _dragenterBody() {\n        this._setDragInBody(true);\n    }\n\n    private _dragleaveBody(e: DragEvent) {\n        if (isDescendant(e.relatedTarget, document.body)) {\n            return;\n        }\n        this._setDragInBody(false);\n    }\n}\n","import { cssSelector, cssVariableAsVar, GenerateStyles, style, css } from '@umetrics/sartorius-ui-base';\n\n// see https://www.sartorius.com/brand-platform/applications/digital\n\nexport const fileUploaderStyles: GenerateStyles = (tagName) => {\n    const { root, child, is } = cssSelector(tagName);\n    const yellow = cssVariableAsVar('color_primary_1');\n    const grayBorder = cssVariableAsVar('color_secondary_8');\n\n    return [\n        style,\n        css`\n            :host,\n            :host::before,\n            :host::after,\n            :host *,\n            :host *::before,\n            :host *::after {\n                box-sizing: border-box;\n            }\n\n            :host {\n                display: inline-block;\n                width: 100%;\n                height: 100%;\n            }\n\n            ${root} {\n                border: none;\n                border-radius: 0;\n                font-size: 1rem;\n                height: 100%;\n                appearance: button;\n                position: relative;\n                outline-color: transparent;\n                outline-offset: -3px;\n                transition:\n                    background-color 0.15s ease-in-out 0s,\n                    outline-color 0.15s ease-in-out 0s;\n                text-align: center;\n                text-decoration: none;\n                text-transform: none;\n                user-select: none;\n                width: 100%;\n                vertical-align: top;\n            }\n\n            /* States */\n            ${child('inner')} {\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n\n            ${child('input-wrapper')} {\n                display: inline-block;\n                position: relative;\n                width: 100%;\n                height: 100%;\n            }\n\n            ${child('input')} {\n                display: none;\n            }\n\n            ${is('dragInBody')} {\n                outline: 3px dashed;\n                outline-color: ${grayBorder};\n                outline-offset: -3px;\n            }\n\n            ${is('dragInside', 'isAccepted')} {\n                outline: 3px solid;\n                outline-color: ${yellow};\n                outline-offset: -3px;\n            }\n            ${is('dragInside', '!isAccepted')} {\n                outline: 3px solid;\n                outline-color: ${cssVariableAsVar('color_traffic_light_1')};\n                outline-offset: -3px;\n            }\n\n            ${child('select-doc-area')} {\n                height: 100%;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n            }\n\n            /* Focus effects */\n            ${root}:focus-visible:before {\n                content: ' ';\n                display: block;\n                position: absolute;\n                inset: 1px;\n            }\n        `,\n    ];\n};\n","/*\n * Metadata build info for package. Managed at build time by task tools/metadata.ts\n */\nexport const version = '0.0.0';\nexport const buildDate = '2021-11-19- 02:02:02.000';\n"],"names":["FileSelectorTextKey","FileSelectorEvent","FileSelectorChangeEvent","Event","FileSelectorRejectEvent","isDescendant","el","parent","parentNode","host","FileSelector","FileSelector_1","BaseElement","texts","this","_texts","value","prevValue","JSON","parse","requestUpdate","selectedFiles","_files","files","_externalChangeOfFiles","_handleFiles","constructor","super","acceptedFileExtensions","acceptedMIMETypes","multiple","hideBrowseButton","hideLabel","_baseClassName","_dragInside","_dragInBody","_isAccepted","_inputChange","async","call","e","target","_resetInputValue","_dragenter","bind","_dragleave","_dragenterBody","_dragleaveBody","_drop","_dropOutside","browseFiles","_selectClick","connectedCallback","style","setProperty","imports","push","module","elem","dynSubRegister","removeProperty","addEventListener","_dragover","document","body","disconnectedCallback","removeEventListener","firstUpdated","_onClick","render","baseClassName","rootClasses","createClassName","tagName","toLowerCase","dragInside","dragInBody","isAccepted","html","_renderPlaceholder","_labelDragDrop","_renderBrowseButton","_renderInput","message","Placeholder","tag","Button","_labelButton","map","a","val","dragDropLabel","DRAG_DROP_LABEL","browseButtonLabel","BUTTON_LABEL","shadowRoot","inputElement","querySelector","click","preventDefault","stopImmediatePropagation","selectedFilesFromEvent","_a","length","_setFiles","_handleAcceptedFiles","_dispatchChangedEvent","updatedArray","Array","prototype","forEach","file","some","afe","name","endsWith","_dispatchRejectEvent","dispatchEvent","CustomEvent","Change","bubbles","cancelable","composed","selected","Reject","detail","type","from","_setDragInside","_setDragInBody","dataTransfer","dragging","dragInPage","items","includes","console","warn","relatedTarget","__decorate","property","String","attribute","Boolean","converter","booleanConverter","Object","query","HTMLInputElement","defineElement","styles","root","child","is","cssSelector","yellow","cssVariableAsVar","grayBorder","css","version"],"sourceRoot":""}